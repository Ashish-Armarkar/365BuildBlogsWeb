import{j as e,L as d,r as i}from"./index-BxF8vOZv.js";import{P as u,U as f}from"./index-CH2Kyk1_.js";const j=({post:s,users:n})=>{const r=n[s.userId];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"list-group-item list-group-item-action",children:[e.jsxs("div",{className:"d-flex w-100 justify-content-between",children:[e.jsx("h5",{className:"mb-1",children:s.title}),e.jsx("small",{children:e.jsx(d,{to:`/blogs/post/${s.id}`,className:"",children:"View"})})]}),e.jsx("p",{className:"mb-1",children:s.body}),e.jsx("div",{className:"d-flex justify-content-end",children:e.jsxs(d,{to:`/users/:${s.userId}`,className:"text-body-secondary",children:["By: ",r==null?void 0:r.name]})})]})})},g=({posts:s,users:n,refetch:r})=>{const[o,m]=i.useState([]);i.useEffect(()=>{if(s&&s.length>0){const t=[...s];console.log("before sorting:",t),t.sort((l,h)=>{const c=l.title[0].toLowerCase(),a=h.title[0].toLowerCase();return c<a?-1:c>a?1:0}),m(t),console.log("after sorting:",t)}},[s]);const x=i.useMemo(()=>{const t={};for(let l of n)t[l.id]=l;return t},[n]);return e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-3",children:[e.jsx("h2",{children:"List of Blogs"}),e.jsx("button",{className:"btn btn-primary",onClick:r,children:e.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",role:"img",focusable:"false",children:[e.jsx("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"}),e.jsx("path",{fillRule:"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"})]})})]}),e.jsx("div",{className:"list-group",children:o.map(t=>e.jsx(j,{post:t,users:x},t.id))})]})},p=()=>e.jsx(u,{renderSuccess:(s,n)=>e.jsx(f,{renderSuccess:(r,o)=>e.jsx(g,{users:r,posts:s,refetch:()=>{n(),o()}})})});export{p as default};
